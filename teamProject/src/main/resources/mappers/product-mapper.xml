<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.kh.team.mappers.product">


	<!-- 글 등록  -->
<!-- 	<insert id="create"> -->
<!-- 		insert into tal_board(bno, title, content, writer, re_group) -->
<!-- 		values(#{bno}, #{title},  -->
<!-- 			#{content, jdbcType=VARCHAR}, #{writer}, -->
<!-- 			#{bno}) -->
<!-- 	</insert> -->
	
	
	
	<!-- 리스트 불러오기 -->
<!-- 	<select id="list" resultType="ProductVo"> -->
<!-- 		select * from tal_product -->
<!-- 		where cate_code = '?' -->
<!-- 	</select> -->
	
	<!-- 카테 목록 -->
	<select id="cateList" resultType="ProductCate">
		select * from tal_product_cate
		order by cate_code
	</select>
	
	
<!-- 	<select id="brandyList" resultType="ProductVo"> -->
<!-- 		select * from tal_product -->
<!-- 		where product_id like '%b%' -->
<!-- 	</select> -->
	
<!-- 	<select id="whiskyList" resultType="ProductVo"> -->
<!-- 		select * from tal_product -->
<!-- 		where product_id like '%a%' -->
<!-- 	</select> -->
<!-- 	<select id="beerList" resultType="ProductVo"> -->
<!-- 		select * from tal_product -->
<!-- 		where product_id like '%c%' -->
<!-- 	</select> -->
<!-- 	<select id="traditionalList" resultType="ProductVo"> -->
<!-- 		select * from tal_product -->
<!-- 		where product_id like '%d%' -->
<!-- 	</select> -->
	
	
	<!-- 글 조회 1개-->
	<select id="read" resultType="ProductVo">
		select * from tal_product
		where product_id = #{product_id}
	</select>
	
	
	<select id="list" resultType="ProductVo">
		select * from tal_product
		<if test="cate_code != null">
		where cate_code = #{cate_code}
		</if>
			<if test="searchType != null and keyword != null">
				and product_name like '%' || #{pagingDto.keyword} || '%'
			</if>
		order by product_name desc
  	</select>
  	
  	<select id="detail" resultType="ProductVo">
		select * from tal_product
		where product_id = #{product_id}
	</select>
	
  	
  	
  	
	
	
</mapper>